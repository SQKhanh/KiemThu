<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Shopee</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
	<style>
		@media (max-width: 767.98px) { .border-sm-start-none { border-left: none !important; } }
		
	</style>
</head>
<body>
	<form th:action="@{/logout}" th:method="post">
		<button class="buttonLog" type="submit">LOGOUT</button>
	</form>
	<section style="background-color: #eee;">
		<div class="container py-5">
		<!-- each product -->
		  <div class="row justify-content-center mb-3">
			<div class="col-md-12 col-xl-10">
			  <div class="card shadow-0 border rounded-3">
				<div class="card-body">
				  <div class="row">
					<div class="col-md-12 col-lg-3 col-xl-3 mb-4 mb-lg-0">
					  <div class="bg-image hover-zoom ripple rounded ripple-surface">
						<img src="https://mdbcdn.b-cdn.net/img/Photos/Horizontal/E-commerce/Products/img%20(4).webp"
						  class="w-100" />
						<a href="#!">
						  <div class="hover-overlay">
							<div class="mask" style="background-color: rgba(253, 253, 253, 0.15);"></div>
						  </div>
						</a>
					  </div>
					</div>
					<div class="col-md-6 col-lg-6 col-xl-6">
					  <h5>Quant trident shirts</h5>
					  <div class="d-flex flex-row">
						<div class="text-danger mb-1 me-2">
						  <i class="fa fa-star"></i>
						  <i class="fa fa-star"></i>
						  <i class="fa fa-star"></i>
						  <i class="fa fa-star"></i>
						</div>
					  </div>
					  
					  <p class="text-truncate mb-4 mb-md-0">
						There are many variations of passages of Lorem Ipsum available, but the
						majority have suffered alteration in some form, by injected humour, or
						randomised words which don't look even slightly believable.
					  </p>
					</div>
					<div class="col-md-6 col-lg-3 col-xl-3 border-sm-start-none border-start">
					  <div class="d-flex flex-row align-items-center mb-1">
						<h4 class="mb-1 me-1">$13.99</h4>
						<span class="text-danger"><s>$20.99</s></span>
					  </div>
					  <div class="d-flex flex-column mt-4">
						<button class="btn btn-primary btn-sm" type="button">Details</button>
						<button class="btn btn-outline-primary btn-sm mt-2" type="button">
						  Add to wishlist
						</button>
					  </div>
					</div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
		  <!-- each product -->
		</div>
	  </section>
	  <script th:inline="javascript">
		/*<![CDATA[*/
		const products = /*[[${products}]]*/ null;
            /*]]>*/
		console.log(products);
		const container = document.querySelector('.container');
		let html = ``;
		for(const product of products){
			const price = product.price - (product.price/100 * product.discountPercent);
			html+=`<div class="row justify-content-center mb-3">
			<div class="col-md-12 col-xl-10">
			  <div class="card shadow-0 border rounded-3">
				<div class="card-body">
				  <div class="row">
					<div class="col-md-12 col-lg-3 col-xl-3 mb-4 mb-lg-0">
					  <div class="bg-image hover-zoom ripple rounded ripple-surface">
						<img src="${product.imageDTOs[0].url}"
						  class="w-100" />
						<a href="#!">
						  <div class="hover-overlay">
							<div class="mask" style="background-color: rgba(253, 253, 253, 0.15);"></div>
						  </div>
						</a>
					  </div>
					</div>
					<div class="col-md-6 col-lg-6 col-xl-6">
					  <h5>${product.name}</h5>
					  <div class="d-flex flex-row">
						<div class="text-danger mb-1 me-2">
						  <i class="fa fa-star"></i>
						  <i class="fa fa-star"></i>
						  <i class="fa fa-star"></i>
						  <i class="fa fa-star"></i>
						</div>
					  </div>
					  
					  <p class="text-truncate mb-4 mb-md-0">
						${product.description}
					  </p>
					</div>
					<div class="col-md-6 col-lg-3 col-xl-3 border-sm-start-none border-start">
					  <div class="d-flex flex-row align-items-center mb-1">
						<h4 class="mb-1 me-1">${price}</h4>
						<span class="text-danger"><s>${product.price}</s></span>
					  </div>
					  <div class="d-flex flex-column mt-4">
						<button class="btn btn-primary btn-sm" type="button"><a style = "all:unset;font-size: 16px;text-decoration: underline;" href = "/product_${product.productId}"> Detail </a></button>
						<button class="btn btn-outline-primary btn-sm mt-2" type="button">
						  Add to cart
						</button>
					  </div>
					</div>
				  </div>
				</div>
			  </div>
			</div>
		  </div>
			`;
		}
		container.innerHTML = html;
		


		
	  </script>
	  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
</body>
</html>